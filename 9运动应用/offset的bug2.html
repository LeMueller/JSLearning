<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>offsetçš„bug2</title>
</head>
<style>
	#div1 {width: 200px; height:200px; background:red; border:1px solid black;}
</style>
<script>

	function getStyle(obj, name){
		if(obj.currentStyle){
			return obj.currentStyle[name];
		}else{
			return getComputedStyle(obj, false)[name];
		}
	}

	setInterval(function(){
		var oDiv=document.getElementById('div1');

		oDiv.style.width=parseInt(getStyle(oDiv, 'width'))-1+'px';

		//oDiv.style.width=oDiv.offsetWidth-2+'px';

	},30);
</script>
<body>
	<div id="div1"></div>
</body>
</html>